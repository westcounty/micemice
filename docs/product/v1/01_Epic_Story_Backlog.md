# Micemice V1 Epic 与 Story Backlog

- 版本：V1.0
- 日期：2026-02-07

## 优先级定义

1. P0：上线必须
2. P1：高价值，V1建议完成
3. P2：可延期

## Epic E1 账号权限与审计（P0）

### Story E1-S1 登录

1. 作为用户，我希望通过账号密码登录，以访问系统。
2. 验收标准：
- 输入合法账号密码后 2 秒内进入工作台。
- 错误登录提示明确，不泄露系统信息。

### Story E1-S2 角色权限

1. 作为管理员，我希望配置角色权限，以限制模块访问。
2. 验收标准：
- `博士生`默认不显示管理中心敏感操作。
- 权限更新后重新进入页面即时生效。

### Story E1-S3 审计日志

1. 作为审计人员，我希望查询关键操作日志。
2. 验收标准：
- 写操作记录 `who/when/what/before/after`。
- 支持按对象、用户、日期过滤。

## Epic E2 主数据管理（P0）

### Story E2-S1 品系字典

1. 作为管理员，我希望维护品系和等位基因。
2. 验收标准：
- 品系命名按模板校验。
- 禁止重复创建同名标准项。

### Story E2-S2 设施结构

1. 作为管理员，我希望维护房间、机架、笼位结构。
2. 验收标准：
- 支持批量导入笼位。
- 删除前校验是否仍被引用。

## Epic E3 笼位与个体（P0）

### Story E3-S1 扫码进笼卡

1. 作为实验员，我希望扫码后直接进入笼卡详情。
2. 验收标准：
- 扫码到详情 < 2 秒。
- 不存在笼卡时支持新建引导。

### Story E3-S2 转笼并笼拆笼

1. 作为实验员，我希望在笼卡页快速处理笼位变更。
2. 验收标准：
- 转笼成功后个体当前位置实时更新。
- 变更事件进入时间线与审计。

### Story E3-S3 容量预警

1. 作为管理员，我希望超容量时触发提醒或阻断。
2. 验收标准：
- 可配置阈值与策略。

## Epic E4 繁育流程（P0）

### Story E4-S1 配种向导

1. 作为实验员，我希望3步完成配种并自动建任务。
2. 验收标准：
- 创建成功后自动生成查栓与断奶节点任务。

### Story E4-S2 产仔与断奶

1. 作为实验员，我希望批量处理断奶分笼。
2. 验收标准：
- 批量分笼可撤销。
- 断奶后幼鼠状态自动更新。

## Epic E5 分型管理（P1）

### Story E5-S1 采样与批次

1. 作为实验员，我希望把采样组织成批次。
2. 验收标准：
- 批次支持板位定义与样本关联。

### Story E5-S2 结果回填

1. 作为实验员，我希望导入分型结果并处理冲突。
2. 验收标准：
- 结果版本化保存。
- 冲突项必须人工确认后生效。

## Epic E6 Cohort 与实验（P1）

### Story E6-S1 条件筛选

1. 作为博士生，我希望按基因型/年龄/性别筛选候选鼠。
2. 验收标准：
- 支持保存筛选模板。

### Story E6-S2 入组锁定

1. 作为博士生，我希望锁定 cohort 并生成盲法编号。
2. 验收标准：
- 锁定后变更必须记录原因与审计。

## Epic E7 任务提醒（P0）

### Story E7-S1 今日待办

1. 作为实验员，我希望看到今日必须完成任务列表。
2. 验收标准：
- 默认按优先级排序：合规 > 福利 > 实验节点。

### Story E7-S2 逾期升级

1. 作为管理员，我希望逾期任务触发升级提醒。
2. 验收标准：
- 逾期 24h 触发二次提醒并高亮。

## Epic E8 报表与导出（P1）

### Story E8-S1 看板

1. 作为 PI，我希望查看笼位占用与繁殖效率。
2. 验收标准：
- 支持按时间与课题筛选。

### Story E8-S2 合规导出

1. 作为审计人员，我希望导出检查包。
2. 验收标准：
- 导出文件包含核心事件、协议关联、变更日志。

## Epic E9 导入导出（P1）

### Story E9-S1 CSV导入

1. 作为管理员，我希望通过模板导入主数据和历史数据。
2. 验收标准：
- 导入前校验并返回逐行错误。

### Story E9-S2 CSV导出

1. 作为用户，我希望导出筛选后的清单供离线处理。
2. 验收标准：
- 导出字段与页面筛选一致。

## 完成定义（DoD）

1. 需求验收标准全部通过。
2. 单测和集成测试通过。
3. 审计日志覆盖关键操作。
4. 文档更新（接口、字段、变更说明）。
5. QA 回归通过并可演示。
